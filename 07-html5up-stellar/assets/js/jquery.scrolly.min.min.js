(function(g){function a(k,m){var i,e,l;if((i=g(k))[c]==0){return j}e=i[b]()[f];switch(m.anchor){case"middle":l=e-(g(window).height()-i.outerHeight())/2;break;default:case f:l=Math.max(e,0)}return typeof m[b]=="function"?l-=m[b]():l-=m[b],l}var c="length",j=null,f="top",b="offset",d="click.scrolly",h=g(window);g.fn.scrolly=function(m){var p,k,n,e,q=g(this);if(this[c]==0){return q}if(this[c]>1){for(p=0;p<this[c];p++){g(this[p]).scrolly(m)}return q}e=j,n=q.attr("href");if(n.charAt(0)!="#"||n[c]<2){return q}k=jQuery.extend({anchor:f,easing:"swing",offset:0,parent:g("body,html"),pollOnce:!1,speed:1000},m),k.pollOnce&&(e=a(n,k)),q.off(d).on(d,function(l){var i=e!==j?e:a(n,k);i!==j&&(l.preventDefault(),k.parent.stop().animate({scrollTop:i},k.speed,k.easing))})}})(jQuery);